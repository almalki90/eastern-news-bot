name: ğŸŒ¤ï¸ Ø¨ÙˆØª Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø·Ù‚Ø³

on:
  schedule:
    - cron: '0 0,12 * * *'  # ÙƒÙ„ 12 Ø³Ø§Ø¹Ø©: 00:00 Ùˆ 12:00 UTC (03:00 Øµ Ùˆ 03:00 Ù… Ø¨ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©)
  workflow_dispatch:

jobs:
  weather-news:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    
    steps:
      - name: ğŸ“¥ Checkout
        uses: actions/checkout@v4
      
      - name: ğŸ Setup Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'
          cache: 'pip'
      
      - name: ğŸ“¦ Install Dependencies
        run: pip install -r requirements.txt
      
      - name: ğŸŒ¤ï¸ Run Weather Bot
        env:
          BOT_TOKEN: ${{ secrets.BOT_TOKEN }}
        run: python bot_weather.py
      
      - name: ğŸ’¾ Save Sent News
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "ğŸŒ¤ï¸ ØªØ­Ø¯ÙŠØ«: Ø³Ø¬Ù„ Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø·Ù‚Ø³"
          file_pattern: 'sent_weather.json'
          commit_user_name: 'Weather Bot'
          commit_user_email: 'weather-bot@github-actions'
