name: ğŸ“° Ø¨ÙˆØª Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø¹Ø§Ù…Ø©

on:
  schedule:
    - cron: '0 3,15 * * *'  # ÙƒÙ„ 12 Ø³Ø§Ø¹Ø©: 03:00 Ùˆ 15:00 UTC (06:00 Øµ Ùˆ 06:00 Ù… Ø¨ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©)
  workflow_dispatch:

jobs:
  general-news:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    
    steps:
      - name: ğŸ“¥ Checkout
        uses: actions/checkout@v4
      
      - name: ğŸ Setup Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'
          cache: 'pip'
      
      - name: ğŸ“¦ Install Dependencies
        run: pip install -r requirements.txt
      
      - name: ğŸ“° Run General News Bot
        env:
          BOT_TOKEN: ${{ secrets.BOT_TOKEN }}
        run: python bot_general.py
      
      - name: ğŸ’¾ Save Sent News
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "ğŸ“° ØªØ­Ø¯ÙŠØ«: Ø³Ø¬Ù„ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø¹Ø§Ù…Ø©"
          file_pattern: 'sent_general.json'
          commit_user_name: 'General News Bot'
          commit_user_email: 'general-bot@github-actions'
