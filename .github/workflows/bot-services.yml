name: ğŸ›ï¸ Ø¨ÙˆØª Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª

on:
  schedule:
    - cron: '0 9,21 * * *'  # ÙƒÙ„ 12 Ø³Ø§Ø¹Ø©: 09:00 Ùˆ 21:00 UTC (12:00 Ù… Ùˆ 12:00 Øµ Ø¨ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©)
  workflow_dispatch:

jobs:
  services-news:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    
    steps:
      - name: ğŸ“¥ Checkout
        uses: actions/checkout@v4
      
      - name: ğŸ Setup Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'
          cache: 'pip'
      
      - name: ğŸ“¦ Install Dependencies
        run: pip install -r requirements.txt
      
      - name: ğŸ›ï¸ Run Services Bot
        env:
          BOT_TOKEN: ${{ secrets.BOT_TOKEN }}
        run: python bot_services.py
      
      - name: ğŸ’¾ Save Sent News
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "ğŸ›ï¸ ØªØ­Ø¯ÙŠØ«: Ø³Ø¬Ù„ Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø®Ø¯Ù…Ø§Øª"
          file_pattern: 'sent_services.json'
          commit_user_name: 'Services Bot'
          commit_user_email: 'services-bot@github-actions'
